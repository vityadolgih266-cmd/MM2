-- EVADE DOMINATOR ‚Äî –µ–¥–∏–Ω—ã–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–±–µ–∑ —Ä–µ–∑–µ—Ä–≤–∞), —É–ª—É—á—à–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ "–∫—Ä—É—Ç–æ–π" ESP
-- –¶–µ–ª—å: —Å—Ä–∞–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å GUI —Å –≤–∫–ª–∞–¥–∫–∞–º–∏, —É–ª—É—á—à–µ–Ω–Ω—ã–º ESP –∏ –Ω–∞–¥—ë–∂–Ω—ã–º –∞–≤—Ç–æ-–≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ–º + –∞–≤—Ç–æ-—ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞ "–±–æ–º–±—ã" –ø–æ—Å–ª–µ –∫–æ–∫–Ω–∞.
-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: –ø–æ–º–µ—Å—Ç–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –∫–∞–∫ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Å–∫—Ä–∏–ø—Ç –≤ –≤–∞—à –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª/–∏–Ω–∂–µ–∫—Ç–æ—Ä. –°–∫—Ä–∏–ø—Ç –ù–ï —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

-- ========== –ù–ê–°–¢–†–û–ô–ö–ò –ò –ì–õ–û–ë–ê–õ–´ ==========
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local Debris = game:GetService("Debris")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")

-- –§–ª–∞–≥–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è
local Flags = {
    SpeedActive = false,
    JumpActive = false,
    NoclipActive = false,
    AutoReviveActive = false,
    ESPActive = false,
    FullBright = false,
    AntiAFK = false,
}

local Values = {
    SpeedValue = 50,
    JumpValue = 100,
}

-- –í–æ–∑–º–æ–∂–Ω—ã–µ –∏–º–µ–Ω–∞ "–±–æ–º–±—ã" ‚Äî –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–¥ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
local POSSIBLE_BOMB_NAMES = {"Bomb", "BombTool", "BombGun", "Bombs", "TNT", "Explosive"}

-- –ü–æ—Å–ª–µ–¥–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç/–±–æ–º–±–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —É –∏–≥—Ä–æ–∫–∞
local LastToolName = nil

-- –£—Ç–∏–ª–∏—Ç—ã
local function safe_pcall(fn, ...)
    local ok, res = pcall(fn, ...)
    return ok, res
end

local function clamp(n, a, b)
    return math.max(a, math.min(b, n))
end

-- ========== UI: –°–í–û–ô –û–î–ù–û–§–ê–ô–õ–û–í–´–ô –¢–ê–ë–û–í–´–ô –ò–ù–¢–ï–†–§–ï–ô–° ==========
-- –°–æ–∑–¥–∞—ë–º ScreenGui —Å –≤–∫–ª–∞–¥–∫–∞–º–∏ (Main, ESP, Extra)
local function CreateInterface()
    -- –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π, –µ—Å–ª–∏ –µ—Å—Ç—å (—á—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–ª)
    local pg = LocalPlayer and LocalPlayer:FindFirstChildOfClass("PlayerGui")
    if not pg then
        pg = LocalPlayer:WaitForChild("PlayerGui", 5) -- –±–ª–æ–∫–∏—Ä—É–µ–º –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è
        if not pg then
            warn("PlayerGui –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî UI –Ω–µ —Å–æ–∑–¥–∞–Ω")
            return
        end
    end
    if pg:FindFirstChild("EvadeDominatorUI") then
        pg:FindFirstChild("EvadeDominatorUI"):Destroy()
    end

    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "EvadeDominatorUI"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = pg

    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Size = UDim2.new(0, 420, 0, 460)
    mainFrame.Position = UDim2.new(0, 16, 0, 16)
    mainFrame.BackgroundColor3 = Color3.fromRGB(24, 24, 24)
    mainFrame.BorderSizePixel = 0
    mainFrame.Parent = screenGui
    mainFrame.Active = true
    mainFrame.Draggable = true

    local title = Instance.new("TextLabel", mainFrame)
    title.Size = UDim2.new(1, 0, 0, 36)
    title.Position = UDim2.new(0, 0, 0, 0)
    title.BackgroundTransparency = 1
    title.Text = "üî• EVADE DOMINATOR"
    title.TextColor3 = Color3.fromRGB(255, 200, 50)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 20

    -- Tabs buttons panel
    local tabsPanel = Instance.new("Frame", mainFrame)
    tabsPanel.Size = UDim2.new(1, 0, 0, 36)
    tabsPanel.Position = UDim2.new(0, 0, 0, 36)
    tabsPanel.BackgroundTransparency = 1

    local function createTabButton(name, pos)
        local b = Instance.new("TextButton", tabsPanel)
        b.Size = UDim2.new(0, 120, 1, -4)
        b.Position = UDim2.new(0, 8 + (pos-1)*126, 0, 2)
        b.Text = name
        b.Font = Enum.Font.Gotham
        b.TextSize = 14
        b.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        b.BorderSizePixel = 0
        b.TextColor3 = Color3.fromRGB(220,220,220)
        return b
    end

    local tabMainBtn = createTabButton("–û–°–ù–û–í–ù–´–ï", 1)
    local tabEspBtn = createTabButton("ESP", 2)
    local tabExtraBtn = createTabButton("–≠–ö–°–¢–†–ê", 3)

    -- Content containers
    local contentFrame = Instance.new("Frame", mainFrame)
    contentFrame.Size = UDim2.new(1, -16, 1, -92)
    contentFrame.Position = UDim2.new(0, 8, 0, 76)
    contentFrame.BackgroundTransparency = 1

    local function createPage(name)
        local page = Instance.new("Frame", contentFrame)
        page.Name = name
        page.Size = UDim2.new(1, 0, 1, 0)
        page.BackgroundTransparency = 1
        page.Visible = false
        return page
    end

    local pageMain = createPage("MainPage")
    local pageESP = createPage("ESPPage")
    local pageExtra = createPage("ExtraPage")

    -- –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
    local function showPage(page)
        for _, v in pairs(contentFrame:GetChildren()) do
            if v:IsA("Frame") then v.Visible = (v == page) end
        end
    end
    showPage(pageMain)

    tabMainBtn.MouseButton1Click:Connect(function() showPage(pageMain) end)
    tabEspBtn.MouseButton1Click:Connect(function() showPage(pageESP) end)
    tabExtraBtn.MouseButton1Click:Connect(function() showPage(pageExtra) end)

    -- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤
    local function addToggle(parent, y, label, getSet)
        local btn = Instance.new("TextButton", parent)
        btn.Size = UDim2.new(1, 0, 0, 34)
        btn.Position = UDim2.new(0, 0, 0, y)
        btn.Text = label .. ": OFF"
        btn.Font = Enum.Font.Gotham
        btn.TextSize = 14
        btn.BackgroundColor3 = Color3.fromRGB(40,40,40)
        btn.BorderSizePixel = 0
        btn.TextColor3 = Color3.fromRGB(230,230,230)
        btn.MouseButton1Click:Connect(function()
            getSet.value = not getSet.value
            btn.Text = label .. (getSet.value and ": ON" or ": OFF")
        end)
        return btn
    end

    local function addSlider(parent, y, label, min, max, step, ref)
        local lab = Instance.new("TextLabel", parent)
        lab.Size = UDim2.new(1, 0, 0, 20)
        lab.Position = UDim2.new(0, 0, 0, y)
        lab.BackgroundTransparency = 1
        lab.Font = Enum.Font.Gotham
        lab.TextSize = 13
        lab.TextColor3 = Color3.fromRGB(220,220,220)
        lab.Text = label .. " ("..min.."-"..max.."): " .. tostring(ref.value)
        local slider = Instance.new("TextBox", parent)
        slider.Size = UDim2.new(0, 120, 0, 28)
        slider.Position = UDim2.new(0.5, -60, 0, y+22)
        slider.PlaceholderText = tostring(ref.value)
        slider.Text = ""
        slider.BackgroundColor3 = Color3.fromRGB(55,55,55)
        slider.TextColor3 = Color3.fromRGB(255,255,255)
        slider.Font = Enum.Font.Gotham
        slider.TextSize = 14
        local apply = Instance.new("TextButton", parent)
        apply.Size = UDim2.new(0, 80, 0, 28)
        apply.Position = UDim2.new(0.5, 70, 0, y+22)
        apply.Text = "–ü—Ä–∏–º–µ–Ω–∏—Ç—å"
        apply.Font = Enum.Font.Gotham
        apply.TextSize = 13
        apply.BackgroundColor3 = Color3.fromRGB(80,80,80)
        apply.MouseButton1Click:Connect(function()
            local v = tonumber(slider.Text) or tonumber(slider.PlaceholderText)
            if v then
                v = math.floor(v/step)*step
                v = clamp(v, min, max)
                ref.value = v
                lab.Text = label .. " ("..min.."-"..max.."): " .. tostring(ref.value)
            end
        end)
        return {label = lab, box = slider, apply = apply}
    end

    -- ========== –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ MainPage ==========
    do
        local y = 0
        local speedRef = {value = Values.SpeedValue}
        local jumpRef = {value = Values.JumpValue}
        local t1 = addToggle(pageMain, y, "‚ö° –°–ö–û–†–û–°–¢–¨", {value = Flags.SpeedActive})
        y = y + 40
        local scontrols = addSlider(pageMain, y, "‚ö° –°–ö–û–†–û–°–¢–¨", 50, 500, 5, speedRef)
        y = y + 70
        local t2 = addToggle(pageMain, y, "üöÄ –°–£–ü–ï–†-–ü–†–´–ñ–û–ö", {value = Flags.JumpActive})
        y = y + 40
        local jcontrols = addSlider(pageMain, y, "üöÄ –ü–†–´–ñ–û–ö", 100, 1000, 5, jumpRef)
        y = y + 70
        local t3 = addToggle(pageMain, y, "‚ú® NOCLIP", {value = Flags.NoclipActive})
        y = y + 40
        local t4 = addToggle(pageMain, y, "üíÄ –ê–í–¢–û-–í–û–ó–†–û–ñ–î–ï–ù–ò–ï", {value = Flags.AutoReviveActive})
        y = y + 40

        -- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∫ —Ä–µ–∞–ª—å–Ω—ã–º –≥–ª–æ–±–∞–ª–æ–º
        spawn(function()
            while screenGui.Parent do
                Flags.SpeedActive = t1.Text:match(": ON") and true or false
                Flags.JumpActive = t2.Text:match(": ON") and true or false
                Flags.NoclipActive = t3.Text:match(": ON") and true or false
                Flags.AutoReviveActive = t4.Text:match(": ON") and true or false
                -- –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –ø–æ–ª–µ–π
                Values.SpeedValue = speedRef.value
                Values.JumpValue = jumpRef.value
                task.wait(0.4)
            end
        end)
    end

    -- ========== –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ ESPPage ==========
    do
        local y = 0
        local t = addToggle(pageESP, y, "üî• ESP (–ù–∏–∫–∏ + HP + –î–∏—Å—Ç–∞–Ω—Ü–∏—è)", {value = Flags.ESPActive})
        y = y + 40

        local btnBright = Instance.new("TextButton", pageESP)
        btnBright.Size = UDim2.new(1, 0, 0, 34)
        btnBright.Position = UDim2.new(0, 0, 0, y)
        btnBright.Text = "üî¥ –ü–æ–¥—Å–≤–µ—Ç–∏—Ç—å NEXTBOTS"
        btnBright.Font = Enum.Font.Gotham
        btnBright.TextSize = 14
        btnBright.BackgroundColor3 = Color3.fromRGB(60,60,60)
        btnBright.MouseButton1Click:Connect(function()
            local nextbots = workspace:FindFirstChild("Nextbots")
            if nextbots then
                for _, nb in pairs(nextbots:GetChildren()) do
                    if nb:IsA("Model") then
                        local hl = Instance.new("Highlight")
                        hl.Adornee = nb
                        hl.FillColor = Color3.fromRGB(0, 120, 255)
                        hl.OutlineColor = Color3.fromRGB(255, 255, 0)
                        hl.FillTransparency = 0.6
                        hl.Parent = nb
                        Debris:AddItem(hl, 25)
                    end
                end
            end
        end)
        y = y + 44

        -- –ø–æ–¥—Å–∫–∞–∑–∫–∞
        local hint = Instance.new("TextLabel", pageESP)
        hint.Size = UDim2.new(1, 0, 0, 44)
        hint.Position = UDim2.new(0, 0, 0, y)
        hint.Text = "ESP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Highlight + BillboardGui (HP –±–∞—Ä, –¥–∏—Å—Ç–∞–Ω—Ü–∏—è). –†–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ."
        hint.TextWrapped = true
        hint.BackgroundTransparency = 1
        hint.Font = Enum.Font.Gotham
        hint.TextSize = 12
        hint.TextColor3 = Color3.fromRGB(200,200,200)
    end

    -- ========== –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ ExtraPage ==========
    do
        local y = 0
        local btnFullBright = Instance.new("TextButton", pageExtra)
        btnFullBright.Size = UDim2.new(1, 0, 0, 34)
        btnFullBright.Position = UDim2.new(0, 0, 0, y)
        btnFullBright.Text = "üîÜ –ü–û–õ–ù–ê–Ø –Ø–†–ö–û–°–¢–¨"
        btnFullBright.Font = Enum.Font.Gotham
        btnFullBright.TextSize = 14
        btnFullBright.BackgroundColor3 = Color3.fromRGB(60,60,60)
        btnFullBright.MouseButton1Click:Connect(function()
            Flags.FullBright = not Flags.FullBright
            if Flags.FullBright then
                pcall(function()
                    game.Lighting.Brightness = 2
                    game.Lighting.ClockTime = 14
                    game.Lighting.FogEnd = 1e8
                    game.Lighting.GlobalShadows = false
                end)
                btnFullBright.Text = "üîÜ –ü–û–õ–ù–ê–Ø –Ø–†–ö–û–°–¢–¨: ON"
            else
                pcall(function()
                    game.Lighting.Brightness = 1
                    game.Lighting.ClockTime = 14
                    game.Lighting.FogEnd = 1000
                    game.Lighting.GlobalShadows = true
                end)
                btnFullBright.Text = "üîÜ –ü–û–õ–ù–ê–Ø –Ø–†–ö–û–°–¢–¨"
            end
        end)
        y = y + 44

        local btnFPS = Instance.new("TextButton", pageExtra)
        btnFPS.Size = UDim2.new(1, 0, 0, 34)
        btnFPS.Position = UDim2.new(0, 0, 0, y)
        btnFPS.Text = "üîÑ –£–í–ï–õ–ò–ß–ï–ù–ò–ï FPS"
        btnFPS.Font = Enum.Font.Gotham
        btnFPS.TextSize = 14
        btnFPS.BackgroundColor3 = Color3.fromRGB(60,60,60)
        btnFPS.MouseButton1Click:Connect(function()
            spawn(function()
                for _, obj in pairs(workspace:GetDescendants()) do
                    if obj:IsA("BasePart") then
                        pcall(function() obj.Material = Enum.Material.SmoothPlastic end)
                    end
                end
                pcall(function() settings().Rendering.QualityLevel = 1 end)
            end)
        end)
        y = y + 44

        local btnAntiAFK = Instance.new("TextButton", pageExtra)
        btnAntiAFK.Size = UDim2.new(1, 0, 0, 34)
        btnAntiAFK.Position = UDim2.new(0, 0, 0, y)
        btnAntiAFK.Text = "üåÄ –ê–ù–¢–ò-–ê–§–ö"
        btnAntiAFK.Font = Enum.Font.Gotham
        btnAntiAFK.TextSize = 14
        btnAntiAFK.BackgroundColor3 = Color3.fromRGB(60,60,60)
        local antiAFKThread = nil
        btnAntiAFK.MouseButton1Click:Connect(function()
            Flags.AntiAFK = not Flags.AntiAFK
            if Flags.AntiAFK then
                btnAntiAFK.Text = "üåÄ –ê–ù–¢–ò-–ê–§–ö: ON"
                antiAFKThread = spawn(function()
                    local vu = game:GetService("VirtualUser")
                    while Flags.AntiAFK do
                        pcall(function()
                            vu:Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
                            task.wait(1)
                            vu:Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
                        end)
                        task.wait(28 + math.random())
                    end
                end)
            else
                btnAntiAFK.Text = "üåÄ –ê–ù–¢–ò-–ê–§–ö"
            end
        end)
    end

    return screenGui
end

local UIroot = CreateInterface()

-- ========== –§–£–ù–ö–¶–ò–û–ù–ê–õ: –î–í–ò–ñ–ï–ù–ò–ï, –ù–û–ö–õ–ò–ü, –ê–í–¢–û-–í–û–ó–†–û–ñ–î–ï–ù–ò–ï, ESP ==========
-- –°–ª–µ–¥–∏–º –∑–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —á—Ç–æ–±—ã –∑–Ω–∞—Ç—å "–±–æ–º–±—É"
local function TrackToolInCharacter(character)
    if not character then return end
    local function scan()
        local tool = character:FindFirstChildOfClass("Tool")
        if tool then LastToolName = tool.Name end
    end
    scan()
    character.ChildAdded:Connect(function(c)
        if c:IsA("Tool") then LastToolName = c.Name end
    end)
    character.ChildRemoved:Connect(function(c)
        if c:IsA("Tool") and LastToolName == c.Name then
            LastToolName = nil
        end
    end)
end

if LocalPlayer and LocalPlayer.Character then
    TrackToolInCharacter(LocalPlayer.Character)
end
LocalPlayer.CharacterAdded:Connect(function(ch) 
    task.wait(0.5) 
    TrackToolInCharacter(ch) 
end)

-- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å–∫–æ—Ä–æ—Å—Ç–∏/–ø—Ä—ã–∂–∫–∞
local function ApplyMovementModifiers(character)
    if not character then return end
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end
    if Flags.SpeedActive then
        pcall(function() humanoid.WalkSpeed = clamp(Values.SpeedValue, 16, 500) end)
    else
        pcall(function() humanoid.WalkSpeed = 16 end)
    end
    if Flags.JumpActive then
        pcall(function()
            humanoid.JumpPower = clamp(Values.JumpValue, 50, 1000)
            humanoid.JumpHeight = clamp(Values.JumpValue, 50, 1000)
        end)
    else
        pcall(function()
            humanoid.JumpPower = 50
            humanoid.JumpHeight = 50
        end)
    end
end

-- RunService Heartbeat –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è
RunService.Heartbeat:Connect(function()
    if LocalPlayer and LocalPlayer.Character then
        ApplyMovementModifiers(LocalPlayer.Character)
    end
end)

-- Noclip (—Ä–∞–±–æ—Ç–∞–µ—Ç —ç–∫–æ–Ω–æ–º–Ω–æ)
RunService.Stepped:Connect(function()
    if Flags.NoclipActive and LocalPlayer and LocalPlayer.Character then
        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                pcall(function() part.CanCollide = false end)
            end
        end
    end
end)

-- ========== –ê–í–¢–û-–í–û–ó–†–û–ñ–î–ï–ù–ò–ï (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏ –∫–æ–∫–Ω–µ) ==========
-- –ü–æ–ø—ã—Ç–∫–∏ –ø–æ–∑–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ä–µ–º–æ—É—Ç—ã (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ)
local function TryServerRevive()
    local tried = {}
    local function try(obj)
        if not obj or tried[obj] then return end
        tried[obj] = true
        pcall(function()
            if obj:IsA("RemoteEvent") then
                obj:FireServer()
            elseif obj:IsA("RemoteFunction") then
                obj:InvokeServer()
            end
        end)
    end

    -- –ü–µ—Ä–µ—á–∏—Å–ª–∏–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –º–µ—Å—Ç–∞ –∏ –∏–º–µ–Ω–∞
    local places = {
        workspace,
        ReplicatedStorage,
        ReplicatedStorage:FindFirstChild("Remotes") or nil,
        ReplicatedStorage:FindFirstChild("Functions") or nil,
    }

    local names = {"Revive", "ReviveRemote", "ReviveEvent", "Respawn", "RespawnRemote", "RespawnEvent", "GiveTool", "SpawnPlayer"}

    for _, pl in pairs(places) do
        if pl then
            for _, name in pairs(names) do
                local candidate = pl:FindFirstChild(name)
                if candidate then try(candidate) end
            end
            -- –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø—Ä–æ–π—Ç–∏ –¥–µ—Ç–µ–π
            for _, child in pairs(pl:GetDescendants()) do
                if child.Name and table.find(names, child.Name) then
                    try(child)
                end
            end
        end
    end
end

-- –ü–æ–ø—ã—Ç–∫–∞ —Ä–µ—ç–∫–∏–ø–∏—Ä–æ–≤–∞—Ç—å "–±–æ–º–±—É" ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä—é–∫–∑–∞–∫ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –ø—Ä–æ—Å–∏–º —É —Å–µ—Ä–≤–µ—Ä–∞ GiveTool –µ—Å–ª–∏ –µ—Å—Ç—å
local function TryEquipBomb()
    if not LocalPlayer then return end
    local bp = LocalPlayer:FindFirstChild("Backpack")
    local char = LocalPlayer.Character
    -- 1) –µ—Å–ª–∏ LastToolName —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Äî –ø—Ä–æ–±—É–µ–º
    if LastToolName then
        if bp and bp:FindFirstChild(LastToolName) then
            pcall(function() LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):EquipTool(bp[LastToolName]) end)
            return
        elseif char and char:FindFirstChild(LastToolName) then
            -- —É–∂–µ –≤ —Ä—É–∫–∞—Ö
            return
        end
    end
    -- 2) –∏—â–µ–º –ø–æ –≤–µ—Ä–æ—è—Ç–Ω—ã–º –∏–º–µ–Ω–∞–º
    for _, n in pairs(POSSIBLE_BOMB_NAMES) do
        if bp and bp:FindFirstChild(n) then
            pcall(function() LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):EquipTool(bp[n]) end)
            return
        elseif char and char:FindFirstChild(n) then
            return
        end
    end
    -- 3) –ø—ã—Ç–∞–µ–º—Å—è –≤—ã–∑–≤–∞—Ç—å GiveTool/RequestTool —Ä–µ–º–æ—É—Ç (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å)
    local give = ReplicatedStorage:FindFirstChild("GiveTool") or (ReplicatedStorage:FindFirstChild("Remotes") and ReplicatedStorage.Remotes:FindFirstChild("GiveTool"))
    if give and give:IsA("RemoteEvent") and LastToolName then
        pcall(function() give:FireServer(LastToolName) end)
    end
end

-- –§–æ—Ä—Å-–≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ: –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –≤—ã–∑–æ–≤—ã –∏ –ª–æ–∫–∞–ª—å–Ω—ã–π LoadCharacter
local function RespawnAndEquip()
    -- 1) –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ä–µ–º–æ—É—Ç–æ–≤
    for i = 1, 4 do
        TryServerRevive()
        task.wait(0.18)
    end
    -- 2) –ª–æ–∫–∞–ª—å–Ω—ã–π LoadCharacter –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
    pcall(function()
        if LocalPlayer and typeof(LocalPlayer.LoadCharacter) == "function" then
            LocalPlayer:LoadCharacter()
        end
    end)
    -- 3) —á–µ—Ä–µ–∑ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è —Ä–µ—ç–∫–∏–ø
    task.delay(0.9, function()
        TryEquipBomb()
    end)
end

-- –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–æ–±—ã—Ç–∏—é —Å–º–µ—Ä—Ç–∏ –ª—é–±–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ)
local function AttachAutoRevive(character)
    if not character then return end
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not humanoid then
        humanoid = character:WaitForChild("Humanoid", 4)
        if not humanoid then return end
    end
    humanoid.Died:Connect(function()
        if Flags.AutoReviveActive then
            -- –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Å–µ—Ä–∏—è –ø–æ–ø—ã—Ç–æ–∫
            spawn(function()
                RespawnAndEquip()
            end)
        end
    end)
end

-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
if LocalPlayer then
    LocalPlayer.CharacterAdded:Connect(function(char)
        task.wait(0.5)
        AttachAutoRevive(char)
        TrackToolInCharacter(char)
    end)
    if LocalPlayer.Character then
        AttachAutoRevive(LocalPlayer.Character)
        TrackToolInCharacter(LocalPlayer.Character)
    end
end

-- ========== ESP: —É–ª—É—á—à–µ–Ω–Ω—ã–π (Highlight + Billboard —Å HP bar –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–µ–π) ==========
local ESPCache = {}

local function CreateESPForPlayer(player)
    if not player or player == LocalPlayer then return end
    if ESPCache[player] then return end

    local function onCharacter(char)
        if not char then return end
        local hrp = char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso")
        if not hrp then return end

        -- Highlight
        local hl = Instance.new("Highlight")
        hl.Name = "EvadeHighlight"
        hl.Adornee = char
        hl.FillTransparency = 0.7
        hl.OutlineTransparency = 0
        hl.Parent = char

        -- Billboard
        local billboard = Instance.new("BillboardGui")
        billboard.Name = "EvadeBillboard"
        billboard.Adornee = hrp
        billboard.Size = UDim2.new(0, 220, 0, 72)
        billboard.StudsOffset = Vector3.new(0, 2.8, 0)
        billboard.AlwaysOnTop = true
        billboard.Parent = hrp

        local nameLabel = Instance.new("TextLabel", billboard)
        nameLabel.Size = UDim2.new(1, -8, 0, 20)
        nameLabel.Position = UDim2.new(0, 4, 0, 2)
        nameLabel.BackgroundTransparency = 1
        nameLabel.Font = Enum.Font.GothamBold
        nameLabel.TextSize = 14
        nameLabel.TextColor3 = Color3.fromRGB(255,255,255)
        nameLabel.Text = player.Name

        local hpBg = Instance.new("Frame", billboard)
        hpBg.Size = UDim2.new(0.9, 0, 0, 10)
        hpBg.Position = UDim2.new(0.05, 0, 0, 28)
        hpBg.BackgroundColor3 = Color3.fromRGB(40,40,40)
        hpBg.BorderSizePixel = 0

        local hpBar = Instance.new("Frame", hpBg)
        hpBar.Size = UDim2.new(1,0,1,0)
        hpBar.BackgroundColor3 = Color3.fromRGB(0,200,0)
        hpBar.BorderSizePixel = 0

        local distLabel = Instance.new("TextLabel", billboard)
        distLabel.Size = UDim2.new(1, -8, 0, 16)
        distLabel.Position = UDim2.new(0, 4, 0, 42)
        distLabel.BackgroundTransparency = 1
        distLabel.Font = Enum.Font.Gotham
        distLabel.TextSize = 12
        distLabel.TextColor3 = Color3.fromRGB(220,220,220)
        distLabel.Text = ""

        -- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        ESPCache[player] = {
            highlight = hl,
            billboard = billboard,
            hpBar = hpBar,
            distLabel = distLabel,
        }

        -- –ü—É–ª—å—Å –ø–æ–¥—Å–≤–µ—Ç–∫–∏
        spawn(function()
            while hl and hl.Parent do
                pcall(function()
                    hl.FillTransparency = 0.55 + math.sin(tick()*1.6)*0.2
                end)
                task.wait(0.08)
            end
        end)
    end

    if player.Character then onCharacter(player.Character) end
    player.CharacterAdded:Connect(onCharacter)
end

local function RemoveESPForPlayer(player)
    local data = ESPCache[player]
    if not data then return end
    pcall(function()
        if data.highlight then data.highlight:Destroy() end
        if data.billboard then data.billboard:Destroy() end
    end)
    ESPCache[player] = nil
end

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ESP –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä (RenderStepped –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏)
RunService.RenderStepped:Connect(function()
    if Flags.ESPActive then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                if not ESPCache[player] then
                    CreateESPForPlayer(player)
                end
                local d = ESPCache[player]
                if d and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
                    local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
                    local health = humanoid.Health
                    local maxh = (humanoid.MaxHealth > 0) and humanoid.MaxHealth or 100
                    local frac = clamp(health / maxh, 0, 1)
                    pcall(function()
                        d.hpBar.Size = UDim2.new(frac, 0, 1, 0)
                        d.hpBar.BackgroundColor3 = Color3.fromHSV(frac * 0.33, 1, 1)
                    end)
                    -- –¥–∏—Å—Ç–∞–Ω—Ü–∏—è
                    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") and player.Character:FindFirstChild("HumanoidRootPart") then
                        local dist = (LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
                        pcall(function() d.distLabel.Text = string.format("%.1f –º", dist) end)
                    end
                end
            end
        end
    else
        -- –æ—á–∏—Å—Ç–∫–∞
        for p, _ in pairs(ESPCache) do
            RemoveESPForPlayer(p)
        end
    end
end)

-- –£–¥–∞–ª—è–µ–º ESP –ø—Ä–∏ —É—Ö–æ–¥–µ –∏–≥—Ä–æ–∫–∞
Players.PlayerRemoving:Connect(function(p) RemoveESPForPlayer(p) end)

-- ========== –ó–ê–ü–£–°–ö –ò –§–ò–ù–ê–õ–¨–ù–´–ï –ú–ï–õ–û–ß–ò ==========
-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ (ESP –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø–æ–∫–∞ —Ñ–ª–∞–≥ –Ω–µ –≤–∫–ª—é—á—ë–Ω)
for _, p in pairs(Players:GetPlayers()) do
    if p ~= LocalPlayer then
        -- —Ç–æ–ª—å–∫–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ (—Ä–µ–∞–ª—å–Ω–∞—è ESP —Å–æ–∑–¥–∞—Å—Ç—Å—è –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏)
        p.CharacterAdded:Connect(function() end)
    end
end

-- –°–æ–æ–±—â–µ–Ω–∏–µ –≤ Output
print("üéÆ EVADE DOMINATOR loaded ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–æ—Ç–æ–≤. –í–∫–ª—é—á–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π.")

-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ —á–∞—Ç–µ (–∫–æ—Ä–æ—Ç–∫–æ–µ)
pcall(function()
    StarterGui:SetCore("ChatMakeSystemMessage", {
        Text = "EVADE DOMINATOR: UI –∑–∞–≥—Ä—É–∂–µ–Ω ‚Äî –æ—Ç–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ —Å–ª–µ–≤–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–°–∫–æ—Ä–æ—Å—Ç—å/ESP/Auto-Revive).",
        Color = Color3.fromRGB(255, 150, 40),
        Font = Enum.Font.SourceSansBold,
        FontSize = Enum.FontSize.Size24
    })
end)

-- –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à—ë–Ω (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).
-- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ: –º–æ–≥—É –¥–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥–æ–≤, –±–æ–ª—å—à–µ –Ω–∞–∑–≤–∞–Ω–∏–π –±–æ–º–±, –ª–∏–Ω–∏–π-—Ç—Ä–µ–π—Å–µ—Ä–æ–≤ –∏–ª–∏ –∞–≤—Ç–æ-—Ö–æ–ø/—Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
